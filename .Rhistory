# Load packages
packages <- c("data.table", "tidyverse", "tibbletime")
invisible(lapply(packages, library, character.only = TRUE))
# Function for easy string pasting
"%&%"<-function(x, y) paste(x, y, sep = "")
# Specify dataset to load: select consumer or prosumer
dataset_id <- "consumer-00000056"
# Load raw data from csv-file
raw_data <- fread(dataset_id%&%".csv",
header    = T,
sep       = ',',
integer64 = "numeric")
raw_data$time <- as_datetime(raw_data$time/1000, tz = "CET")
# Keep only timestamp, energy, and energyOut
data <- raw_data %>%
select(time, energy, energyOut) %>%
as_tbl_time(index = time)
?as.data.frame.difftime
?as.datetime
??as.datetime
# Load packages
packages <- c("data.table", "lubridate", "tibbletime")
invisible(lapply(packages, library, character.only = TRUE))
# Function for easy string pasting
"%&%"<-function(x, y) paste(x, y, sep = "")
# Specify dataset to load: select consumer or prosumer
dataset_id <- "consumer-00000056"
# Load raw data from csv-file
raw_data <- fread(dataset_id%&%".csv",
header    = T,
sep       = ',',
integer64 = "numeric")
raw_data$time <- as_datetime(raw_data$time/1000, tz = "CET")
# Keep only timestamp, energy, and energyOut
data <- raw_data %>%
select(time, energy, energyOut) %>%
as_tbl_time(index = time)
# Save glimpse as csv-file
data %>%
filter_time("2017-09-20 12:18:00" ~ "2017-09-20 12:33:00") %>%
write.csv("output/"%&%dataset_id%&%"_glimpse.csv")
# Save glimpse as csv-file
data %>%
filter_time("2017-09-20 12:18:00" ~ "2017-09-20 12:33:00") %>%
write.csv(dataset_id%&%"_glimpse.csv")
## Save data glimpse of energy smart meter recordings
# Load packages
packages = c("data.table", "lubridate", "tibbletime")
invisible(lapply(packages, library, character.only = TRUE))
# Function for easy string pasting
"%&%" = function(x, y) {paste(x, y, sep = "")}
# Specify dataset to load: select consumer or prosumer
dataset_id    = "consumer-00000056"
#dataset_id    = "producer-00000089"
# Load raw data from csv-file
raw_data      = fread(dataset_id%&%".csv",
header    = T,
sep       = ',',
integer64 = "numeric")
raw_data$time = as_datetime(raw_data$time/1000, tz = "CET")
# Keep only timestamp, energy, and energyOut
data = raw_data %>%
select(time, energy, energyOut) %>%
as_tbl_time(index = time)
# Save glimpse as csv-file: Specify time interval
from = "2017-09-20 12:18:00"
to   = "2017-09-20 12:33:00"
data %>%
filter_time(from ~ to) %>%
write.csv(dataset_id%&%"_glimpse.csv")
## end of file##
# Load packages
packages  = c("data.table", "tidyverse", "tidyquant", "cowplot", "tibbletime")
invisible(lapply(packages, library, character.only = TRUE))
# Load user-defined functions
functions = c("FUN_getData.R")
invisible(lapply(functions, source))
getwd()
setwd("../")
getwd()
list.files()
## Save data glimpse of energy smart meter recordings
## Author: Michael Kostmann
# Load packages
packages = c("data.table",
"lubridate",
"tibbletime")
invisible(lapply(packages, library, character.only = TRUE))
# Function for easy string pasting
"%&%" = function(x, y) {paste(x, y, sep = "")}
# Specify dataset to load: select consumer or prosumer
dataset_id    = "consumer-00000056"
#dataset_id    = "producer-00000089"
# Load raw data from csv-file
raw_data      = fread(input     = dataset_id%&%".csv",
header    = T,
sep       = ',',
integer64 = "numeric")
raw_data$time = as_datetime(raw_data$time/1000, tz = "CET")
# Keep only timestamp, energy, and energyOut
data = raw_data %>%
select(time,
energy,
energyOut) %>%
as_tbl_time(index = time)
# Save glimpse as csv-file: Specify time interval
from = "2017-09-20 12:18:00"
to   = "2017-09-20 12:33:00"
data %>%
filter_time(from ~ to) %>%
write.csv("output/"%&%dataset_id%&%"_glimpse.csv")
## end of file##
